---
import NavItem from "./NavItem.astro";
import { Icon } from "astro-icon";

const navItems = [
  { name: "About", path: "/about/" },
  { name: "Blogs", path: "/blogs/" },
  { name: "Projects", path: "/projects/" },
  { name: "Contact", path: "/contact/" },
];
---

<nav
  class="flex flex-col md:flex-row justify-between items-center my-5 md:relative"
>
  <div class="flex w-full md:w-auto items-center justify-between z-10">
    <div class="flex">
      <a href="/" class="text-xl"
        ><span class="font-bold text-slate-800 dark:text-slate-200">Kenji</span
        ><span class="text-slate-500">Docs</span>
      </a>

      <button class="w-6" id="light-dark-mode">
        <Icon name="ic:round-light-mode" class="theme-btn" />
        <Icon name="ic:round-dark-mode" class="hidden theme-btn" />
      </button>
    </div>

    <button class="w-6 block md:hidden" id="menu">
      <Icon name="ic:baseline-menu" class="nav-btn" />
      <Icon name="ic:round-close" class="hidden nav-btn" />
    </button>
  </div>

  <div
    class="w-full flex flex-col justify-start items-start md:flex-row md:justify-end"
  >
    {navItems.map((item) => <NavItem name={item.name} path={item.path} />)}
  </div>
</nav>

<script>
  let menu = document.querySelector("#menu");
  menu?.addEventListener("click", () => {
    document.querySelectorAll(".nav-item, .nav-btn").forEach((item) => {
      item.classList.toggle("hidden");
    });
  });

  let themeBtn = document.querySelector("#light-dark-mode");
  themeBtn?.addEventListener("click", () => {
    document.querySelectorAll(".theme-btn").forEach((item) => {
      item.classList.toggle("hidden");
    });
    document.documentElement.classList.toggle("dark");
  });
</script>
