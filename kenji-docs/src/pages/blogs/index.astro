---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import SectionHead from "../../components/layout/SectionHead.astro";
import BlogList from "../../components/blogs/BlogList.astro";

const blogs = (
  await getCollection("blog", ({ data }) => {
    return data.isDraft !== true;
  })
).sort(
  (a, b) =>
    new Date(b.data.publishDate).valueOf() -
    new Date(a.data.publishDate).valueOf()
);

let title = "All Blogs";
---

<Layout title={title}>
  <SectionHead
    title="Blogs"
    description="Read about my opinions and experiences"
  />

  <BlogList blogs={blogs} />
</Layout>
